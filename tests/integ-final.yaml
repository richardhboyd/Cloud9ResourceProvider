AWSTemplateFormatVersion: 2010-09-09
Resources:
  MyC9Environment03:
    Type: Richard::Cloud9::Environment
    Properties:
      InstanceType: c5.large
      EBSVolumeSize: 50
      UserData: 
        Fn::Base64: |
          VERSION=3.7.4
          yum update -y
          yum install gcc openssl-devel bzip2-devel libffi-devel -y
          wget https://www.python.org/ftp/python/${VERSION}/Python-${VERSION}.tgz
          tar xzf Python-${VERSION}.tgz
          cd Python-${VERSION}
          ./configure --enable-optimizations
          make altinstall
          cd ../
          # Remove old symlinks
          rm -rf /etc/alternatives/pip
          rm -rf /etc/alternatives/python
          # make new symlinks
          ln -s /usr/local/bin/pip${VERSION:0:3} /etc/alternatives/pip
          ln -s /usr/local/bin/python${VERSION:0:3} /etc/alternatives/python